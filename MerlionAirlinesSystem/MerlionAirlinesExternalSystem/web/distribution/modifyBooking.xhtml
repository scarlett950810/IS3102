<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../templates/ClientSideTemplate.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <ui:define name="title"></ui:define>

    <ui:define name="head">

    </ui:define>

    <ui:define name="main">
        <p:panel header="Modify Booking" style="margin-top: 5%; font-size: 200%; text-align: center;">
            <h:outputText value="Reference Number: " style="font-size: 50%;"></h:outputText>
            <h:outputText value="#{modifyBookingManagedBean.referenceNumber}" style="font-size: 50%;"></h:outputText>
        </p:panel>

        <p:panel header="Flight Information Details" style="border: 2px #000000 groove; width: 60%; margin-left: auto; margin-right: auto">
            <p:panelGrid columns="2" layout="grid">
                <h:outputLabel value="Flight No." />
                <h:outputLabel value="#{modifyBookingManagedBean.ticket.flight.flightNo}" />


                <h:outputLabel value="Departure" />
                <h:outputLabel value="#{modifyBookingManagedBean.ticket.flight.route.originAirport.cityName}(#{modifyBookingManagedBean.ticket.flight.route.originAirport.airportCode})" />
                <h:outputLabel value="" />
                <h:outputLabel value="#{modifyBookingManagedBean.ticket.flight.departureDate}" />


                <h:outputLabel value="Arrival" />
                <h:outputLabel value="#{modifyBookingManagedBean.ticket.flight.route.destinationAirport.cityName}(#{modifyBookingManagedBean.ticket.flight.route.destinationAirport.airportCode})" />
                <h:outputLabel value="" />
                <h:outputLabel value="#{modifyBookingManagedBean.ticket.flight.arrivalDate}" />

                <h:outputLabel value="" />
                <p:commandButton value="Change Flight"></p:commandButton>

            </p:panelGrid>
            <p:panel id="premuimService" header="Premium Services" style="margin-top: 5%; border: #000000 2px solid; height: auto">

                <h:panelGrid columns="2">
                    <h:outputLabel value="Baggage Weight: " />


                    <h:outputLabel value="No Check-in Baggage" rendered="#{modifyBookingManagedBean.extraBaggageWeight==-1}" />


                    <h:outputLabel value="#{modifyBookingManagedBean.extraBaggageWeight} kg" rendered="#{modifyBookingManagedBean.extraBaggageWeight!=-1}" />



                    <h:outputLabel value="Premium Meal: " />
                    <h:outputLabel value="No" rendered="#{modifyBookingManagedBean.premiumMeal==false}" />

                    <h:outputLabel value="Yes" rendered="#{modifyBookingManagedBean.premiumMeal==true}" />


                    <h:outputLabel value="Exclusive Airport Service: " />
                    <h:outputLabel value="No" rendered="#{modifyBookingManagedBean.exclusiveService==false}" />

                    <h:outputLabel value="Yes" rendered="#{modifyBookingManagedBean.exclusiveService== true}" />


                    <h:outputLabel value="Insurance: " />

                    <h:outputLabel value="No" rendered="#{modifyBookingManagedBean.insurance== false}"/>

                    <h:outputLabel value="Yes" rendered="#{modifyBookingManagedBean.insurance== true}" />


                    <h:outputLabel value="Flight Wi-Fi: " />
                    <h:outputLabel value="No" rendered="#{modifyBookingManagedBean.flightWifi== false}" />

                    <h:outputLabel value="Yes" rendered="#{modifyBookingManagedBean.flightWifi== true}" />

                    <h:outputLabel value="" />
                    <p:commandButton value="Upgrade Service" onclick="PF('upgradeService').show();"></p:commandButton>
                </h:panelGrid>
            </p:panel>

            <h:form style="text-align: center">
                <p:commandButton id="confirmModification" actionListener="#{modifyBookingManagedBean.completeModifyBooking}" value="Confirm" style="margin-top: 5%"></p:commandButton>
                <p:tooltip id="toolTipContent" for="confirmModification">
                    <p:outputLabel value="Please note that additional charges will be made to complete this booking modification"></p:outputLabel>
                </p:tooltip>

            </h:form>
        </p:panel>
        <h:form>
            <p:growl id="modifyStatus"></p:growl>
            <p:dialog header="Upgrade Premium Service" widgetVar="upgradeService" style="background-color: white !important">

                <h:panelGrid columns="2" style="display: inline-block;">
                    <h:outputText value="Extra Check-in Baggage: " />
                    <p:selectOneMenu value="#{modifyBookingManagedBean.extraBaggageWeight}" style="width: 100%">
                        <f:selectItem itemLabel="Select" itemValue="" noSelectionOption="true" />
                        <f:selectItem itemLabel="No Extra Baggage" itemValue="-1" itemDisabled="#{modifyBookingManagedBean.extraBaggageWeight}>=-1" />
                        <f:selectItem itemLabel="Extra 10kg" itemValue="10.0" itemDisabled="#{modifyBookingManagedBean.extraBaggageWeight}>=10" />
                        <f:selectItem itemLabel="Extra 25kg" itemValue="25.0" itemDisabled="#{modifyBookingManagedBean.extraBaggageWeight}>=-25"/>
                        <f:selectItem itemLabel="Extra 50kg" itemValue="50.0" itemDisabled="#{modifyBookingManagedBean.extraBaggageWeight}>=50"/>
                    </p:selectOneMenu>

                    <h:outputText value="Enjoy Premium Meal In Flight: " />
                    <p:selectOneRadio value="#{modifyBookingManagedBean.premiumMeal}" style="margin-left: auto; margin-right: auto">
                        <f:selectItem itemLabel="Yes" itemValue="true" />
                        <f:selectItem itemLabel="No" itemValue="false" />
                    </p:selectOneRadio>

                    <h:outputText value="Enjoy Exclusive Service: " />
                    <p:selectOneRadio value="#{modifyBookingManagedBean.exclusiveService}" style="margin-left: auto; margin-right: auto">
                        <f:selectItem itemLabel="Yes" itemValue="true" />
                        <f:selectItem itemLabel="No" itemValue="false" />
                    </p:selectOneRadio>

                    <h:outputText value="Enjoy In-flight WIFI: " />
                    <p:selectOneRadio value="#{modifyBookingManagedBean.flightWifi}" style="margin-left: auto; margin-right: auto">
                        <f:selectItem itemLabel="Yes" itemValue="true" />
                        <f:selectItem itemLabel="No" itemValue="false" />
                    </p:selectOneRadio>

                    <h:outputText value="Enjoy Affordable Insurance: " />
                    <p:selectOneRadio value="#{modifyBookingManagedBean.insurance}" style="margin-left: auto; margin-right: auto">
                        <f:selectItem itemLabel="Yes" itemValue="true" />
                        <f:selectItem itemLabel="No" itemValue="false" />
                    </p:selectOneRadio>

                    <h:outputLabel value="" />
                    <p:commandButton value="Confirm" style="margin-top: 5%" actionListener="#{modifyBookingManagedBean.upgradePremiumService}" update="premuimService" onclick="upgradeService.hide();"></p:commandButton>

                </h:panelGrid>

            </p:dialog>
        </h:form>
    </ui:define>

</ui:composition>
