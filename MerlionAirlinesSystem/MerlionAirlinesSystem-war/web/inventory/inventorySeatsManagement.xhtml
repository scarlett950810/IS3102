<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../templates/DefaultTemplate.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="head">
        <!--insert customized import here-->
    </ui:define>

    <ui:define name="title">Inventory Home Page</ui:define>

    <ui:define name="menubar">
        
        <div id="sidebar-wrapper">
            <ul class="sidebar-nav">
                <li><a href="inventorySeatsManagement.xhtml">Manu create booking class</a></li>                     
                <li><a href="inventoryCost.xhtml">Manage Cost</a></li>
                <!--<li><a href="inventoryBookingClassManagement.xhtml">Manage Booking Classes</a></li>-->         
                <li><a href="inventoryRulesManagement.xhtml">Manage Rules</a></li>
                <li><a href="inventoryRevenueManagement.xhtml">Manage Revenue</a></li>

            </ul>
        </div>
    </ui:define>

    <ui:define name="centerPanel">
        
        <p:panel header="Pending flights" style="padding-bottom: 15px;">
            <p:growl id="growl" showDetail="true" autoUpdate="true" />
            <h:panelGrid columns="2" cellpadding="5">

                <!--<p:outputLabel value="Select flight to manage seat and price" for="selectFlight" />-->
                <!--<p:selectOneMenu style="min-width: 240px; width: 100%" filter="true" id="selectFlight" value="{seatsManagementManagedBean.flight}"--> 
                <!--effect="fold" converter="flightConverter">-->                                    
                <!--<p:ajax listener="{seatsManagementManagedBean.onFlightChange}" update="bookingClasses" />-->
                <!--<f:selectItems value="{seatsManagementManagedBean.pendingFlights}" var="flight" itemValue="{flight}" itemLabel="{flight.flightNo}" />-->
                <!--</p:selectOneMenu>-->
                <!--<p:outputPanel id="bookingClasses">{seatsManagementManagedBean.economyClassCapacity}</p:outputPanel>-->
                <!--<h:outputText value="{seatsManagementManagedBean.economyClassCapacity}"></h:outputText>-->

                <h:form>
                    <p:dataTable paginator="true" rows="30" id="pendingFlights" value="#{seatsManagementManagedBean.pendingFlights}" var="flight">
                        <p:column headerText="Flight">
                            <h:outputText value="#{flight.flightNo}" />
                        </p:column>

                        <p:column>
                            <p:commandButton ajax="false" value="Auto Set Price" 
                                             action="#{seatsManagementManagedBean.automaticallyCreateBookingClassAndRules(flight)}" /> 
                        </p:column>

                    </p:dataTable>
                </h:form>

            </h:panelGrid>
        </p:panel>

    </ui:define>

</ui:composition>

