<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>
        <title>Inventory Revenue Management</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </h:head>
    <h:body>
        <h:form>
            <p:contextMenu for="flightList">
                <p:menuitem value="View Booking Class" update="flightList" icon="ui-icon-search" actionListener="#{inventoryRevenueManagementManagedBean.viewBookingClass()}"/>
            </p:contextMenu>
            
            <p:dataTable id="flightList" var="flight" value="#{inventoryRevenueManagementManagedBean.flightList}" rowKey="#{flight.flightNo}"
                         widgetVar="flightTable" emptyMessage="No flight found with given criteria" filteredValue="#{inventoryRevenueManagementManagedBean.fliteredFlight}" 
                         selection="#{inventoryRevenueManagementManagedBean.selectedFlight}" selectionMode="single">
                <f:facet name="header">
                    Merlion Airline Flight List
                </f:facet>
                <p:column headerText="Flight Number" filterBy="#{flight.flightNo}" filterMatchMode="contains">
                    <h:outputText value="#{flight.flightNo}" />
                </p:column>
                <p:column headerText="Origin" filterBy="#{flight.route.originAirport.cityName}" filterMatchMode="contains">
                    <h:outputText value="#{flight.route.originAirport.cityName} (#{flight.route.originAirport.airportCode})" />
                </p:column>
                <p:column headerText="Destination" filterBy="#{flight.route.destinationAirport.cityName} (#{flight.route.destinationAirport.airportCode})" filterMatchMode="contains">
                    <h:outputText value="#{flight.route.destinationAirport.cityName} (#{flight.route.destinationAirport.airportCode})" />
                </p:column>

            </p:dataTable>
        </h:form>
    </h:body>
</html>
