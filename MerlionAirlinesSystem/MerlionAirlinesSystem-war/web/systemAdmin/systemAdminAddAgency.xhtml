<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../templates/DefaultTemplate.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="head">
        <!--insert customized import here-->
    </ui:define>

    <title><ui:insert name="title">System Admin - Add Travel Agency Account</ui:insert></title>

    <ui:define name="menubar">
        <div id="sidebar-wrapper">
            <ul class="sidebar-nav">
                <li class="sidebar-h1"><a href="systemAdminAddStaff.xhtml">Account Management</a></li>
                <li><a href="systemAdminAddStaff.xhtml">Add Airline Staff</a></li>
                <li><a href="systemAdminViewStaff.xhtml">View Airline Staff</a></li>
                <li><a href="systemAdminUnlockStaff.xhtml">Unlock Airline Staff</a></li>
                <li><a href="systemAdminAddAgency.xhtml">Add Agency Account (DDS)</a></li>
                <li><a href="systemAdminAddGDSCompany.xhtml">Add Airline Company (GDS)</a></li><br/>

                <li class="sidebar-h1"><a href="systemAdminSendAnnouncement.xhtml">Send Announcement</a></li><br/>
                <li class="sidebar-h1"><a href="systemAdminRevenueDashboard.xhtml">Revenue Dashboard</a></li>
            </ul>
        </div>
    </ui:define>
    
    <ui:define name="centerPanel">
        
        <p:panel header="Add Agency Account" class="panel panel-success">
            <h:form id="staffAddition">
                <p:growl id="growl" showDetail="true"/>

                <h:panelGrid columns="2" cellpadding="5" style="margin-bottom: 10px;">

                    <p:outputLabel for="agencyNo" value="Agency No: " />
                    <p:inputText style="width:100%;" id="agencyNo" value="#{addAgencyManagedBean.account}" label="agencyNo" required="true" requiredMessage="Please input agency account">
                        <p:watermark for="agencyNo" value="Please enter agency number" />
                    </p:inputText> 

                    <p:outputLabel for="agencyName" value="Agency Name: " />
                    <p:inputText style="width:100%;" id="agencyName" value="#{addAgencyManagedBean.name}" label="agencyName" required="true" requiredMessage="Please input agency name">
                        <p:watermark for="agencyName" value="Please enter agency name" />
                    </p:inputText> 

                    <p:outputLabel for="contact" value="Contact Number: " />
                    <p:inputText style="width:100%;" id="contact" value="#{addAgencyManagedBean.contactNumber}" label="contact" required="true" requiredMessage="Please input contact number">
                        <p:watermark for="contact" value="Please enter contact number" />
                    </p:inputText>

                    <p:outputLabel for="email" value="Email Address: " />
                    <p:inputText style="width:100%;" id="email" value="#{addAgencyManagedBean.email}" label="email" required="true" 
                                 requiredMessage="Please input staff email address" validatorMessage="Invalid email format">
                        <f:validateRegex
                        pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />

                        <p:watermark for="email" value="Please enter email address" />
                    </p:inputText>

                </h:panelGrid>

                <p:commandButton id="addStaff" value="confirm" actionListener="#{addAgencyManagedBean.save()}" update="growl"
                                 class="btn-sm btn-success"/>

            </h:form>


        </p:panel>
    </ui:define>
    
</ui:composition>