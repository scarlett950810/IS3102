<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../templates/DefaultTemplate.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="head">
        <!--insert customized import here-->
    </ui:define>
    
    <ui:define name="menubar">
        <div id="sidebar-wrapper">
            <ul class="sidebar-nav">
                <li class="sidebar-h1"><a href="systemAdminAddStaff.xhtml">Account Management</a></li>
                <li><a href="systemAdminAddStaff.xhtml">Add Airline Staff</a></li>
                <li><a href="systemAdminViewStaff.xhtml">View Airline Staff</a></li>
                <li><a href="systemAdminUnlockStaff.xhtml">Unlock Airline Staff</a></li>
                <li><a href="systemAdminAddAgency.xhtml">Add Agency Account (DDS)</a></li>
                <li><a href="systemAdminAddGDSCompany.xhtml">Add Airline Company (GDS)</a></li><br/>

                <li class="sidebar-h1"><a href="systemAdminSendAnnouncement.xhtml">Send Announcement</a></li><br/>
                <li class="sidebar-h1"><a href="systemAdminRevenueDashboard.xhtml">Revenue Dashboard</a></li>
            </ul>
        </div>
    </ui:define>
    
    <ui:define name="centerPanel">
        <h:form id="form" >
            <p:growl id="growl" sticky="true" showDetail="true" autoUpdate="true"/>
            <p:dataTable id="staffList" var="staff" value="#{unlockStaffManagedBean.staffList}" rowKey="#{staff.staffNo}"
                         selection="#{unlockStaffManagedBean.staff}" selectionMode="single" widgetVar="staffTable"
                         emptyMessage="No staff found with given criteria" filteredValue="#{unlockStaffManagedBean.filteredStaff}" class="panel-primary">
                <f:facet name="header">
                    Merlion Airline Locked Staffs List
                </f:facet>
                <p:column selectionMode="single" style="width:16px"/>
                <p:column headerText="Staff No" filterBy="#{staff.staffNo}" filterMatchMode="contains" style="width: 5%">
                    <h:outputText value="#{staff.staffNo}" />
                </p:column>
                <p:column headerText="Staff Name" filterBy="#{staff.displayName}" filterMatchMode="contains" style="width: 5%">
                    <h:outputText value="#{staff.displayName}" />
                </p:column>
                <p:column headerText="Status"  style="width: 5%">
                    <h:outputText value="Locked" />
                </p:column>

                <f:facet name="footer">
                    <p:commandButton process="staffList" update=":form:staffList" icon="ui-icon-search" value="Unlock " actionListener="#{unlockStaffManagedBean.unlockStaff()}" />
                </f:facet>
            </p:dataTable>





        </h:form>
    </ui:define>
</ui:composition>