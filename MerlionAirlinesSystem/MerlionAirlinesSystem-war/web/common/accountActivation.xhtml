<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../templates/DefaultTemplate.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html">

    <ui:define name="centerPanel">
        <h:form>
            <p:growl id="growl" showDetail="true"/>

            <p:wizard flowListener="#{accountActivationManagedBean.onFlowProcess}">
                <p:tab id="staffInformation" title="">
                    <p:panel header="Staff Information">
                        <p:messages id="editInformation"/>
                        <h:panelGrid columns="2" columnClasses="label, value">
                            <h:outputText value="Name: " />
                            <h:outputText value="#{accountActivationManagedBean.staff.displayName}"/>

                            <h:outputText value="Staff Number: " />
                            <h:outputText value="#{accountActivationManagedBean.staff.staffNo}"/>

                            <h:outputText value="Role: " />
                            <h:outputText value="#{accountActivationManagedBean.role}"/>

                            <h:outputText value="Gender: " />
                            <h:outputText value="#{accountActivationManagedBean.staff.gender}"/>



                            <h:outputText value="Email Address: " />
                            <h:outputText value="#{accountActivationManagedBean.staff.email}"/>

                            <h:outputText value="Contact Number: " />
                            <h:outputText value="#{accountActivationManagedBean.staff.contactNumber}"/>

                            <h:outputText value="Address: " />
                            <h:outputText value="#{accountActivationManagedBean.staff.address}"/>

                        </h:panelGrid>
                    </p:panel>
                </p:tab>

                <p:tab id="resetPassword" title="">
                    <p:panel header="Reset Password">


                        <p:messages id="Msg" />
                        <h:panelGrid columns="2" cellpadding="5" style="margin-bottom: 10px;">
                            <p:outputLabel for="originPassword" value="Please input your original password" />
                            <p:password style="width:100%;" id="originPassword" value="#{accountActivationManagedBean.originPassword}" label="originPassword" required="true" requiredMessage="Please input the original password">
                            </p:password> 

                            <p:outputLabel for="newPassword" value="Please input your new password" />
                            <p:password style="width:100%;" id="newPassword" value="#{accountActivationManagedBean.newPassword}" label="newPassword" required="true" requiredMessage="Please input the new password">
                            </p:password> 

                            <p:outputLabel for="newRepeatPassword" value="Please confirm your password: " />
                            <p:password style="width:100%;" id="newRepeatPassword" value="#{accountActivationManagedBean.newRepeatPassword}" label="newRepeatPassword" required="true" requiredMessage="Please repeat the new password">
                            </p:password>
                        </h:panelGrid>
                        <p:commandButton id="changePassword" style="margin-left: auto; margin-right: auto" value="Save" actionListener="#{accountActivationManagedBean.changePassword}" update="Msg" />


                    </p:panel>
                </p:tab>

                <p:tab id="confirm" title="">
                    <p:panel header="Activate Account">

                        <h:outputText> You are not at the last step to activate your account! </h:outputText>

                        <p:commandButton value="Activate" actionListener="#{accountActivationManagedBean.activateAccount()}" update="growl" process="@this"/>
                    </p:panel>
                </p:tab>
            </p:wizard>
        </h:form>
    </ui:define>

</ui:composition>
